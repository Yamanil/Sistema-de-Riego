<!DOCTYPE html>
<html >
<head>
    <meta charset="UTF-8">
    <title>SISTEMA DE RIEGO</title>
</head>
<body>
    <h1>node arduino</h1>
     <canvas id='myCanvas'></canvas>
     

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script>
    const socket = io();
    
    let counter = 0;
    socket.on('ARDUINO:data', function (dataSerial) {
     myChart.data.labels.push(counter);
     myChart.data.datasets.forEach(dataset => {
         dataset.data.push(dataSerial.value);
     });
     counter++;
     myChart.update();
    });

 

var ctx = document.getElementById('myCanvas').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'line',
    data: {
        labels: ["Serial"],
        datasets: [{
            label: "Grados",
            
                backgroundColor:'#fff870',
                borderColor:'#fff870',
                data:[]
        }]
    },
    options: {}
});
    </script>
</body>
</html>